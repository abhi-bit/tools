[{"appcode":"function OnUpdate(user, meta) {\n    checkForBot(user);\n\n    if (user.is_bot) {\n        dst[meta.id] = user;\n        log(\"potential bot - user_id:\", meta.id, \" user blob:\", user);\n    }\n}\n\nfunction OnDelete(meta) {\n}\n\nfunction checkForBot(user) {\n    // valid game score should be between 0-600\n    if (user.score > 600 || user.current_level > 1000) {\n        user.is_bot = true;\n        return;\n    }\n    \n    // no real money was spent and game coin count is too high\n    if (user.money_spent === 0 && user.coins > 1000000) {\n        user.is_bot = true;\n        return;\n    }\n    \n    // average game credits per game play session is too high\n    if (user.game_credits/user.session_count > 1000) {\n        user.is_bot = true;\n        return;\n    }\n\n    // average coins per session too high\n    if (user.coins/user.session_count > 10000) {\n        user.is_bot = true;\n        return;\n    }\n}","depcfg":{"buckets":[{"alias":"dst","bucket_name":"hello-world"}],"metadata_bucket":"eventing","source_bucket":"default"},"version":"evt-6.0.0-0000-ee","handleruuid":3834968195,"id":0,"appname":"eventing_demo","settings":{"cleanup_timers":false,"dcp_stream_boundary":"everything","deadline_timeout":62,"deployment_status":true,"description":"","execution_timeout":60,"log_level":"INFO","processing_status":true,"user_prefix":"eventing","using_timer":false,"worker_count":3},"using_timer":false}]